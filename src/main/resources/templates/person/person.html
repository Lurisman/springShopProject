<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Пользователи</title>

</head>
<body>
<h3>Список пользователей: </h3>

<table>
  <thead>
  <tr>
    <th>id</th>
    <th>Логин</th>
    <th>Имя</th>
    <th>Фамилия</th>
    <th>Email</th>
    <th>Телефон</th>
    <th>Роль (текущая)</th>
    <th>Новая роль</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <form method="POST" th:action="@{/admin/person/editrole/{id}(id=${user.getId()})}" th:each="user : ${person}">

    <tr>
      <td><a th:href="@{/admin/person/info/{id}(id=${user.getId()})}" th:text="${user.getId()}"></a></td>
      <td><a th:href="@{/admin/person/info/{id}(id=${user.getId()})}" th:text="${user.getLogin()}"></a></td>
      <!--                <td th:text="${user.getPassword()}"></td>-->
      <td th:text="${user.getFirstname()}"></td>
      <td th:text="${user.getLastname()}"></td>
      <td th:text="${user.getEmail()}"></td>
      <td th:text="${user.getPhoneNumber()}"></td>
      <td th:text="${user.getRole()}"></td>
      <td>
        <select name="role" id="role">
          <option th:value="ROLE_USER" th:text="Пользователь"
                  th:selected="${user.getRole()} == 'ROLE_USER' ? true : false" ></option>
          <option th:value="ROLE_SELLER" th:text="Продавец"
                  th:selected="${user.getRole()} == 'ROLE_SELLER' ? true : false"></option>
          <option th:value="ROLE_ADMIN" th:text="Администратор"
                  th:selected="${user.getRole()} == 'ROLE_ADMIN' ? true : false"></option>
        </select>
      </td>
      <td>
        <button type="submit">Изменить</button>
      </td>
    </tr>

  </form>
  </tbody>
</table>

<hr>
<a href="/admin/person/sorting_and_searching_and_filters">Поиск, сортировка, фильтрация</a>
<hr>
<a href="/index">Назад в Главное меню</a>

</body>
</html>